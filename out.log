[  2%] Built target rm
[  3%] Building C object src/fs/CMakeFiles/fs.dir/inode.c.o
[  4%] Linking C static library libfs.a
[ 10%] Built target fs
[ 19%] Built target aarch64
[ 30%] Built target common
[ 31%] Building C object src/kernel/CMakeFiles/kernelx.dir/mem.c.o
[ 32%] Linking C static library libkernelx.a
[ 47%] Built target kernelx
[ 56%] Built target driver
[ 59%] Built target user
[ 69%] Built target test
[ 70%] Linking C executable kernel8.elf
[ 73%] Built target kernel8.elf
[ 74%] Generating kernel8.asm
[ 75%] Generating kernel8.hdr
[ 76%] Generating kernel8.img
[ 76%] Built target kernel
[ 79%] Built target cat
[ 81%] Built target echo
[ 84%] Built target init
[ 86%] Built target ls
[ 89%] Built target sh
[ 91%] Built target mkdir
[ 93%] Built target usertests
[ 96%] Built target mkfs
[ 98%] Built target mmaptest
[ 98%] Built target user_bin
[100%] Generating sd.img
mkfs.fat 4.2 (2021-01-31)
nmeta 92 (boot, super, log blocks 63 inode blocks 26, bitmap blocks 1) blocks 908 total 1000
input: '../build/src/user/init' -> 'init'
input: '../build/src/user/cat' -> 'cat'
input: '../build/src/user/sh' -> 'sh'
input: '../build/src/user/echo' -> 'echo'
input: '../build/src/user/ls' -> 'ls'
input: '../build/src/user/mkfs' -> 'mkfs'
input: '../build/src/user/mkdir' -> 'mkdir'
input: '../build/src/user/usertests' -> 'usertests'
input: '../build/src/user/mmaptest' -> 'mmaptest'
input: '../build/src/user/rm' -> 'rm'
balloc: first 809 blocks have been allocated
balloc: write bitmap block at sector 91
Checking that no-one is using this disk right now ... OK

Disk /root/data/OS-24Fall-FDU/build/boot/sd.img: 128 MiB, 134217728 bytes, 262144 sectors
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x4db2dbad

Old situation:

Device                                      Boot  Start    End Sectors Size Id Type
/root/data/OS-24Fall-FDU/build/boot/sd.img1        2048 133119  131072  64M  c W95 FAT32 (LBA)
/root/data/OS-24Fall-FDU/build/boot/sd.img2      133120 262143  129024  63M 83 Linux

>>> Created a new DOS (MBR) disklabel with disk identifier 0x74b05a5e.
/root/data/OS-24Fall-FDU/build/boot/sd.img1: Created a new partition 1 of type 'W95 FAT32 (LBA)' and of size 64 MiB.
/root/data/OS-24Fall-FDU/build/boot/sd.img2: Created a new partition 2 of type 'Linux' and of size 63 MiB.
/root/data/OS-24Fall-FDU/build/boot/sd.img3: Done.

New situation:
Disklabel type: dos
Disk identifier: 0x74b05a5e

Device                                      Boot  Start    End Sectors Size Id Type
/root/data/OS-24Fall-FDU/build/boot/sd.img1        2048 133119  131072  64M  c W95 FAT32 (LBA)
/root/data/OS-24Fall-FDU/build/boot/sd.img2      133120 262143  129024  63M 83 Linux

The partition table has been altered.
Syncing disks.
> dd if=/dev/zero of=/root/data/OS-24Fall-FDU/build/boot/boot.img seek=131071 bs=512 count=1
> mkfs.vfat -F 32 -s 1 /root/data/OS-24Fall-FDU/build/boot/boot.img
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img /root/data/OS-24Fall-FDU/build/src/kernel8.img ::kernel8.img;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img armstub8-rpi4.bin ::armstub8-rpi4.bin;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img bootcode.bin ::bootcode.bin;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img config.txt ::config.txt;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img COPYING.linux ::COPYING.linux;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img fixup_cd.dat ::fixup_cd.dat;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img fixup.dat ::fixup.dat;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img fixup4.dat ::fixup4.dat;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img fixup4cd.dat ::fixup4cd.dat;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img LICENCE.broadcom ::LICENCE.broadcom;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img start_cd.elf ::start_cd.elf;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img start.elf ::start.elf;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img start4.elf ::start4.elf;
> mcopy -i /root/data/OS-24Fall-FDU/build/boot/boot.img start4cd.elf ::start4cd.elf;
> cc ../src/user/mkfs/main.c -o ../build/mkfs -I../src/
../build/src/user/init ../build/src/user/cat ../build/src/user/sh ../build/src/user/echo ../build/src/user/ls ../build/src/user/mkfs ../build/src/user/mkdir ../build/src/user/usertests ../build/src/user/mmaptest ../build/src/user/rm 
> ../build/mkfs /root/data/OS-24Fall-FDU/build/boot/fs.img ../build/src/user/init ../build/src/user/cat ../build/src/user/sh ../build/src/user/echo ../build/src/user/ls ../build/src/user/mkfs ../build/src/user/mkdir ../build/src/user/usertests ../build/src/user/mmaptest ../build/src/user/rm 
> dd if=/dev/zero of=/root/data/OS-24Fall-FDU/build/boot/sd.img seek=262143 bs=512 count=1
> printf "2048, 65536K, c,\n133120, 64512K, L,\n" | sfdisk /root/data/OS-24Fall-FDU/build/boot/sd.img
> dd if=/root/data/OS-24Fall-FDU/build/boot/boot.img of=/root/data/OS-24Fall-FDU/build/boot/sd.img seek=2048 conv=notrunc
> dd if=/root/data/OS-24Fall-FDU/build/boot/fs.img of=/root/data/OS-24Fall-FDU/build/boot/sd.img seek=133120 conv=notrunc
[100%] Built target image
CPU 0: hello
CPU 3: hello
CPU 2: hello
CPU 1: hello
Hello world! (Core 2)
mknodat: path 'console', major:minor 0:1
pages: 260443
pages: 260443
pages: 260443
init: starting shpages: 260443

pages: 260419
sh: argv[0] = 'shpages: 260419
'
pages: 260419
sh: testenv = 'FROM_INITpages: 260419
'
pages: 260419
$ ls
pages: 260400
.              4000 1 512pages: 260400

pages: 260400
..             4000 1 512pages: 260400

pages: 260400
init           8000 2 13704pages: 260400

pages: 260400
cat            8000 3 34144pages: 260400

pages: 260400
sh             8000 4 46936pages: 260400

pages: 260400
echo           8000 5 34384pages: 260400

pages: 260400
ls             8000 6 38480pages: 260400

pages: 260400
mkfs           8000 7 42592pages: 260400

pages: 260400
mkdir          8000 8 34144pages: 260400

pages: 260400
usertests      8000 9 38240pages: 260400

pages: 260400
mmaptest       8000 10 42352pages: 260400

pages: 260400
rm             8000 11 34144pages: 260400

pages: 260400
console        0 12 0pages: 260400

pages: 260419
$ QEMU: Terminated
[100%] Built target qemu
